{"version":3,"file":"js/blocks/image-gallery.js","mappings":"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","sources":["webpack://kotisivu-block-theme/./src/blocks/static/image-gallery/components/Img.js","webpack://kotisivu-block-theme/./src/blocks/static/image-gallery/components/Inspector.js","webpack://kotisivu-block-theme/./src/blocks/static/image-gallery/components/MediaUploader.js","webpack://kotisivu-block-theme/./src/blocks/static/image-gallery/edit.js","webpack://kotisivu-block-theme/./src/blocks/static/image-gallery/save.js","webpack://kotisivu-block-theme/external window [\"wp\",\"blockEditor\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"blocks\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"components\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"domReady\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"element\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"i18n\"]","webpack://kotisivu-block-theme/webpack/bootstrap","webpack://kotisivu-block-theme/webpack/runtime/compat get default export","webpack://kotisivu-block-theme/webpack/runtime/define property getters","webpack://kotisivu-block-theme/webpack/runtime/hasOwnProperty shorthand","webpack://kotisivu-block-theme/webpack/runtime/make namespace object","webpack://kotisivu-block-theme/./src/blocks/static/image-gallery/index.js"],"sourcesContent":["const Img = ({image, imageClass}) => {\n    return (\n        <img\n            data-id={image.mediaID}\n            loading={image.lazyLoad}\n            className={imageClass}\n            src={image.mediaURL}\n            alt={image.mediaAlt}\n            width={image.mediaWidth}\n            height={image.mediaHeight}\n            type={image.mediaMime}\n        />\n    )\n}\n\nexport default Img\n","import { __ } from \"@wordpress/i18n\";\nimport {\n    InspectorControls,\n} from \"@wordpress/block-editor\";\n\nimport {\n    PanelBody,\n    TextControl\n} from \"@wordpress/components\";\n\nconst Inspector = (props) => {\n    const {\n        attributes: {\n            sectionHeading\n        },\n        setAttributes,\n    } = props;\n\n    return (\n        <InspectorControls>\n            <PanelBody title={__('Image Gallery Settings', 'kotisivu-block-theme')} initialOpen={true}>\n                <TextControl\n                    label={__('Section Heading', 'kotisivu-block-theme')}\n                    help={__('Add some descriptive information (ex. title or heading) for assistive technologies', 'kotisivu-block-theme')}\n                    onChange={(content) => setAttributes({ sectionHeading: content })}\n                    value={sectionHeading}\n                />\n            </PanelBody>\n        </InspectorControls>\n    )\n}\n\nexport default Inspector\n","import { __ } from \"@wordpress/i18n\";\nimport {\n    MediaUpload,\n    MediaUploadCheck\n} from \"@wordpress/block-editor\";\n\nimport { Button } from '@wordpress/components';\n\nconst ALLOWED_MEDIA_TYPES = ['image'];\n\nconst MediaUploader = ({ mediaIDs, props }) => {\n    const onSelect = (images) => {\n        props.setAttributes({\n            images: images.map(image => {\n                return {\n                    mediaID: image.id,\n                    mediaURL: image.url,\n                    mediaALT: image.alt,\n                    mediaMime: image.mime,\n                    mediaWidth: `${image.sizes.full.width}px`,\n                    mediaHeight:`${image.sizes.full.height}px`,\n                    lazyLoad: \"lazy\"\n                };\n            }),\n        });\n    };\n\n    return (\n        <MediaUploadCheck>\n            <MediaUpload\n                onSelect={onSelect}\n                allowedTypes={ALLOWED_MEDIA_TYPES}\n                value={mediaIDs}\n                render={({ open }) => (\n                    <Button\n                        onClick={open}\n                        className=\"button button-large\"\n                    >{mediaIDs.length < 1 ? 'Upload/Select Images' : 'Edit'}</Button>\n                )}\n                gallery\n                multiple\n            />\n        </MediaUploadCheck>\n    );\n}\n\nexport default MediaUploader","import { __ } from \"@wordpress/i18n\";\nimport { useBlockProps } from \"@wordpress/block-editor\";\n\nimport Inspector from './components/Inspector';\nimport MediaUploader from './components/MediaUploader';\n\nimport Img from './components/Img';\n\nimport './editor.css';\n\nconst Edit = (props) => {\n\tconst {\n\t\tattributes: {\n\t\t\timages,\n\t\t\tsectionHeading\n\t\t}\n\t} = props;\n\n\tconst blockProps = useBlockProps({\n\t\tclassName: \"image-gallery\"\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<Inspector {...props} />\n\t\t\t<section {...blockProps}>\n\t\t\t\t<h2 className=\"is-visually-hidden\">{sectionHeading}</h2>\n\t\t\t\t{\n\t\t\t\t\timages.length >= 1\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<div className=\"image-gallery__container\">\n\t\t\t\t\t\t\t\t{images.map(image => (\n\t\t\t\t\t\t\t\t<Img key={image.mediaID} image={image} imageClass={\"image-gallery__item\"} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: <div className=\"image-gallery__help-text\">\n\t\t\t\t\t\t\t{__('Selected images will be shown here', 'kotisivu-block-theme')}\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<MediaUploader mediaIDs={images.map(image => image.mediaID)} props={props} />\n\t\t\t</section>\n\t\t</>\n\t);\n};\n\nexport default Edit;\n","import { __ } from \"@wordpress/i18n\";\nimport { useBlockProps } from \"@wordpress/block-editor\";\n\nimport Img from './components/Img';\n\nconst Save = (props) => {\n\n\tconsole.log(props);\n\n\tconst {\n\t\tattributes: {\n\t\t\timages,\n\t\t\tsectionHeading\n\t\t},\n\t} = props;\n\n\tconst blockProps = useBlockProps.save({\n\t\tclassName: 'image-gallery'\n\t});\n\n\treturn (\n\t\t<section {...blockProps}>\n\t\t\t<h2 className=\"is-visually-hidden\">{sectionHeading}</h2>\n\t\t\t<div className=\"image-gallery__container\">\n\t\t\t\t{\n\t\t\t\t\timages.map(image => (\n\t\t\t\t\t\t<Img key={image.mediaID} image={image} imageClass={\"image-gallery__item\"} />\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n\nexport default Save;\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { __ } from \"@wordpress/i18n\";\nimport { registerBlockType, registerBlockStyle } from '@wordpress/blocks';\nimport domReady from '@wordpress/dom-ready';\nimport edit from \"./edit\";\nimport save from \"./save\";\nimport metadata from './block.json';\nimport './style.css';\n\nconst {\n    apiVersion,\n    name,\n    title,\n    category,\n    icon,\n    description,\n    keywords,\n    textdomain,\n    supports,\n} = metadata;\n\nexport const settings = {\n    apiVersion: apiVersion,\n    title: __(title, 'kotisivu-block-theme'),\n    description: __(description, 'kotisivu-block-theme'),\n    category: category,\n    icon: icon,\n    supports: supports,\n    keywords: keywords,\n    textdomain: textdomain,\n    edit,\n    save\n}\n\nregisterBlockType(name, settings);\n\n/**\n * Run on DOM ready\n */\ndomReady(function () {\n    registerBlockStyle(name, {\n        name: 'image-gallery-client',\n        label: __('Client', 'kotisivu-block-theme'),\n    });\n});"],"names":["Img","image","imageClass","createElement","mediaID","loading","lazyLoad","className","src","mediaURL","alt","mediaAlt","width","mediaWidth","height","mediaHeight","type","mediaMime","props","attributes","sectionHeading","setAttributes","InspectorControls","PanelBody","title","__","initialOpen","TextControl","label","help","onChange","content","value","ALLOWED_MEDIA_TYPES","MediaUploader","mediaIDs","MediaUploadCheck","MediaUpload","onSelect","images","map","id","url","mediaALT","mime","sizes","full","allowedTypes","render","open","Button","onClick","length","gallery","multiple","blockProps","useBlockProps","Fragment","Inspector","key","console","log","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","apiVersion","name","category","icon","description","keywords","textdomain","supports","metadata","settings","edit","save","registerBlockType","domReady","registerBlockStyle"],"sourceRoot":""}