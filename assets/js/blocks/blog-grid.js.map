{"version":3,"file":"js/blocks/blog-grid.js","mappings":";sSAsEA,UAnDcA,IACb,MAAMC,GAAaC,EAAAA,EAAAA,eAAc,CAChCC,UAAW,yBAMNC,GAAQC,EAAAA,EAAAA,YAORC,EAAWA,EAAGC,WAElBC,EAAAA,EAAAA,eAAA,MAAIL,UAAU,oBACbK,EAAAA,EAAAA,eAAA,MAAIL,UAAU,oBAAoBI,GAAME,MAAMC,WAC9CF,EAAAA,EAAAA,eAAA,QAAML,UAAU,mBAAmBI,GAAMI,OACzCH,EAAAA,EAAAA,eAAA,KAAGL,UAAU,sBAAsBI,GAAMK,QAAQF,WACjDF,EAAAA,EAAAA,eAAA,OAAKL,UAAU,mBAAmBU,IAAKN,GAAMO,UAAUC,eAAeC,IAAKC,IAAKV,GAAMO,UAAUC,eAAeE,IAAKR,MAAM,GAAGS,MAAOX,GAAMO,UAAUC,eAAeG,MAAOC,OAAQZ,GAAMO,UAAUC,eAAeI,UACjNX,EAAAA,EAAAA,eAAA,OAAKL,UAAU,4DACdK,EAAAA,EAAAA,eAAA,KAAGL,UAAU,4CAA2CiB,EAAAA,EAAAA,IAAG,YAAa,2BAS5E,OACCZ,EAAAA,EAAAA,eAAA,UAASP,IACRO,EAAAA,EAAAA,eAAA,MAAIa,GAAG,iBAAiBlB,UAAU,oBAC/BC,IAASgB,EAAAA,EAAAA,IAAG,UAAW,wBACxBhB,GAA0B,IAAjBA,EAAMkB,SAAgBF,EAAAA,EAAAA,IAAG,WAAY,wBAC9ChB,GAASA,EAAMkB,OAAS,GACxBlB,EAAMmB,KAAI,CAACC,EAAMC,KAEfjB,EAAAA,EAAAA,eAACkB,EAAAA,cAAa,CAACC,IAAKF,IACnBjB,EAAAA,EAAAA,eAACF,EAAQ,CAACqB,IAAKF,EAAOlB,KAAMiB,QAM5B,mEC9DR,UAJaI,IACL,iVCCR,MAAMF,UAAsBG,MAAMC,UAC9BC,WAAAA,CAAY/B,GACRgC,MAAMhC,GACNiC,KAAKC,MAAQ,CAAEC,OAAO,EAC1B,CAEA,+BAAOC,CAAyBD,GAC5B,MAAO,CAAEA,MAAOA,EACpB,CAEAE,iBAAAA,CAAkBF,EAAOG,GACrB,CAGJC,MAAAA,GACI,OAAIN,KAAKC,MAAMC,OAGP3B,EAAAA,EAAAA,eAAA,YAAMY,EAAAA,EAAAA,IAAG,iBAAkB,yBAI5Ba,KAAKjC,MAAMwC,QACtB,ieCdJ,MAAMC,EAAiBA,CAACC,EAAU,EAAGC,KAC1BC,EAAAA,EAAAA,YAAWC,GACDA,EAAO,QAAQC,iBAAiB,WAAYH,EAAU,CAC/DI,SAAUL,KAEC,6JCLvB,MAAMM,EAA4BC,IACvBL,EAAAA,EAAAA,YAAWC,IACd,MAAM,8BACFK,EAA6B,mBAC7BC,GACAN,EAAO,qBAIX,OAAOM,EAFgBD,EAA8BD,GAEZ,GAC1C,CAACA,4HCXR,MAAM5C,EAAWA,CAACqC,EAAU,KACjBE,EAAAA,EAAAA,YAAWC,GACDA,EAAO,QAAQC,iBAAiB,WAAY,OAAQ,CAC7DC,SAAUL,KAEC,mLCfvBU,EAAOC,QAAUC,OAAW,GAAe,6CCA3CF,EAAOC,QAAUC,OAAW,GAAU,sCCAtCF,EAAOC,QAAUC,OAAW,GAAQ,uCCApCF,EAAOC,QAAUC,OAAW,GAAW,uCCAvCF,EAAOC,QAAUC,OAAW,GAAQ,8oBCChCC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaL,QAGrB,IAAID,EAASG,EAAyBE,GAAY,CAGjDJ,QAAS,CAAC,GAOX,OAHAO,EAAoBH,GAAUL,EAAQA,EAAOC,QAASG,GAG/CJ,EAAOC,OACf,CCrBAG,EAAoBK,EAAI,SAAST,GAChC,IAAIU,EAASV,GAAUA,EAAOW,WAC7B,WAAa,OAAOX,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAI,EAAoBQ,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,ECNAN,EAAoBQ,EAAI,SAASX,EAASa,GACzC,IAAI,IAAIvC,KAAOuC,EACXV,EAAoBW,EAAED,EAAYvC,KAAS6B,EAAoBW,EAAEd,EAAS1B,IAC5EyC,OAAOC,eAAehB,EAAS1B,EAAK,CAAE2C,YAAY,EAAMC,IAAKL,EAAWvC,IAG3E,ECPA6B,EAAoBW,EAAI,SAASK,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,ECCtGjB,EAAoBqB,EAAI,SAASxB,GACX,oBAAXyB,QAA0BA,OAAOC,aAC1CX,OAAOC,eAAehB,EAASyB,OAAOC,YAAa,CAAEC,MAAO,WAE7DZ,OAAOC,eAAehB,EAAS,aAAc,CAAE2B,OAAO,GACvD,oTCCA,MAAM,WACFC,EAAU,KACVC,EAAI,MACJzE,EAAK,SACL0E,EAAQ,KACRC,EAAI,YACJC,EAAW,SACXC,EAAQ,WACRC,EAAU,SACVC,GACA1E,EAES2E,EAAW,CACpBR,WAAYA,EACZxE,OAAOW,EAAAA,EAAAA,IAAGX,EAAO,wBACjB4E,aAAajE,EAAAA,EAAAA,IAAGiE,EAAa,wBAC7BF,SAAUA,EACVC,KAAMA,EACNI,SAAUA,EACVF,SAAUA,EACVC,WAAYA,EACZG,KAAI,UACJC,KAAI,UACJC,mBAAAA,GACI,MAAO,CACH,aAAc,OAEtB,IAGJC,EAAAA,EAAAA,mBAAkBX,EAAMO","sources":["webpack://kotisivu-block-theme/./src/blocks/dynamic/blog-grid/edit.js","webpack://kotisivu-block-theme/./src/blocks/dynamic/blog-grid/save.js","webpack://kotisivu-block-theme/./src/features/error/lib/ErrorBoundary.js","webpack://kotisivu-block-theme/./src/hooks/lib/useCustomPost.js","webpack://kotisivu-block-theme/./src/hooks/lib/useParentBlockAttributes.js","webpack://kotisivu-block-theme/./src/hooks/lib/usePosts.js","webpack://kotisivu-block-theme/external window [\"wp\",\"blockEditor\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"blocks\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"data\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"element\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"i18n\"]","webpack://kotisivu-block-theme/webpack/bootstrap","webpack://kotisivu-block-theme/webpack/runtime/compat get default export","webpack://kotisivu-block-theme/webpack/runtime/define property getters","webpack://kotisivu-block-theme/webpack/runtime/hasOwnProperty shorthand","webpack://kotisivu-block-theme/webpack/runtime/make namespace object","webpack://kotisivu-block-theme/./src/blocks/dynamic/blog-grid/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { useBlockProps } from \"@wordpress/block-editor\";\n\n/**\n * Styles\n */\nimport './editor.css';\n\n/**\n * Internal dependencies\n */\nimport { usePosts } from '@hooks';\nimport { ErrorBoundary } from '@features/error';\n\n\n\nconst Edit = (props) => {\n\tconst blockProps = useBlockProps({\n\t\tclassName: \"blog-grid__container\"\n\t});\n\n\t/**\n\t * Get posts\n\t */\n\tconst posts = usePosts();\n\n\t/**\n\t * Blog Card Element\n\t * @param { object } data\n\t * @return { JSX.Element }\n\t */\n\tconst BlogCard = ({ data }) => {\n\t\treturn (\n\t\t\t<li className=\"blog-grid__item\">\n\t\t\t\t<h3 className=\"blog-grid__title\">{data?.title.rendered}</h3>\n\t\t\t\t<time className=\"blog-grid__date\">{data?.date}</time>\n\t\t\t\t<p className=\"blog-grid__excerpt\">{data?.excerpt.rendered}</p>\n\t\t\t\t<img className=\"blog-grid__image\" src={data?.metadata?.featured_image.url} alt={data?.metadata?.featured_image.alt} title=\"\" width={data?.metadata?.featured_image.width} height={data?.metadata?.featured_image.height} />\n\t\t\t\t<div className=\"blog-grid__button wp-block-button is-style-primary-fill\">\n\t\t\t\t\t<a className=\"wp-block-button__link wp-element-button\">{__('Read More', 'kotisivu-block-theme')}</a>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t)\n\t}\n\n\t/**\n\t * Render posts for editor\n\t */\n\treturn (\n\t\t<div {...blockProps}>\n\t\t\t<ul id=\"blog-post-list\" className=\"blog-grid__list\">\n\t\t\t\t{!posts && __('Loading', 'kotisivu-block-theme')}\n\t\t\t\t{posts && posts.length === 0 && __('No posts', 'kotisivu-block-theme')}\n\t\t\t\t{posts && posts.length > 0 && (\n\t\t\t\t\tposts.map((post, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ErrorBoundary key={index}>\n\t\t\t\t\t\t\t\t<BlogCard key={index} data={post} />\n\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default Edit;","const Save = () => {\n\treturn null;\n};\n\nexport default Save;\n","import { __ } from \"@wordpress/i18n\";\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { error: false };\n    }\n\n    static getDerivedStateFromError(error) {\n        return { error: error };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        // Log the error to an error reporting service\n    }\n\n    render() {\n        if (this.state.error) {\n            // Create a custom fallback UI here\n            return (\n                <div>{__('Error occurred', 'kotisivu-block-theme')}</div>\n            );\n        }\n\n        return this.props.children;\n    }\n}\n\nexport { ErrorBoundary };","import { useSelect } from '@wordpress/data';\n\n/**\n * Hook to get custom posts\n * @param perPage Number of posts to return per page\n * @param postType Post type to query\n * @returns {array}\n * \n * Original source:\n * @link https://pluginmachine.com/creating-reusable-react-hooks-for-the-wordpress-block-editor-or-whatever/\n */\nconst useCustomPosts = (perPage = 6, postType) => {\n    return useSelect((select) => {\n        const data = select('core').getEntityRecords('postType', postType, {\n            per_page: perPage,\n        });\n        return data || [];\n    });\n};\n\nexport { useCustomPosts };\n","import { useSelect } from '@wordpress/data';\n\n/**\n * Hook to get attributes of the parent block\n *\n * @param  {string} clientId\n * @returns {Object} attributes of the parent block\n * \n * Original source:\n * @link https://pluginmachine.com/creating-reusable-react-hooks-for-the-wordpress-block-editor-or-whatever/\n */\nconst useParentBlockAttributes = (clientId) => {\n    return useSelect((select) => {\n        const {\n            getBlockHierarchyRootClientId,\n            getBlockAttributes\n        } = select('core/block-editor');\n\n        const parentClientId = getBlockHierarchyRootClientId(clientId);\n\n        return getBlockAttributes(parentClientId);\n    }, [clientId]);\n};\n\nexport { useParentBlockAttributes };\n","import { useSelect } from '@wordpress/data';\n\n/**\n * Hook to get posts\n * @param perPage Number of posts to return per page\n * @returns {array}\n * \n * Original source:\n * @link https://pluginmachine.com/creating-reusable-react-hooks-for-the-wordpress-block-editor-or-whatever/\n */\nconst usePosts = (perPage = 6) => {\n    return useSelect((select) => {\n        const data = select('core').getEntityRecords('postType', 'post', {\n            per_page: perPage,\n        });\n        return data || [];\n    });\n};\n\nexport { usePosts };\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { __ } from \"@wordpress/i18n\";\nimport { registerBlockType } from '@wordpress/blocks';\nimport edit from \"./edit\";\nimport save from \"./save\";\nimport metadata from './block.json';\nimport './style.css';\n\nconst {\n    apiVersion,\n    name,\n    title,\n    category,\n    icon,\n    description,\n    keywords,\n    textdomain,\n    supports\n} = metadata;\n\nexport const settings = {\n    apiVersion: apiVersion,\n    title: __(title, 'kotisivu-block-theme'),\n    description: __(description, 'kotisivu-block-theme'),\n    category: category,\n    icon: icon,\n    supports: supports,\n    keywords: keywords,\n    textdomain: textdomain,\n    edit,\n    save,\n    getEditWrapperProps() {\n        return {\n            'data-align': 'full',\n        };\n    }\n}\n\nregisterBlockType(name, settings);\n"],"names":["props","blockProps","useBlockProps","className","posts","usePosts","BlogCard","data","createElement","title","rendered","date","excerpt","src","metadata","featured_image","url","alt","width","height","__","id","length","map","post","index","ErrorBoundary","key","Save","React","Component","constructor","super","this","state","error","getDerivedStateFromError","componentDidCatch","errorInfo","render","children","useCustomPosts","perPage","postType","useSelect","select","getEntityRecords","per_page","useParentBlockAttributes","clientId","getBlockHierarchyRootClientId","getBlockAttributes","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","apiVersion","name","category","icon","description","keywords","textdomain","supports","settings","edit","save","getEditWrapperProps","registerBlockType"],"sourceRoot":""}