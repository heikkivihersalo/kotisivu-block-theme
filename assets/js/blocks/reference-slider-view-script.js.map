{"version":3,"file":"js/blocks/reference-slider-view-script.js","mappings":"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","sources":["webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/components/Slider.jsx","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/components/SliderControls.jsx","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/components/SliderPagination.jsx","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/context/SliderContext.js","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/icons/lib/ArrowLeft.jsx","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/icons/lib/ArrowRight.jsx","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/icons/lib/CircleFilled.jsx","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/icons/lib/CircleOutline.jsx","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/icons/lib/Quote.jsx","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/scripts/helpers.js","webpack://kotisivu-block-theme/./src/hooks/lib/useCustomPost.js","webpack://kotisivu-block-theme/./src/hooks/lib/useParentBlockAttributes.js","webpack://kotisivu-block-theme/./src/hooks/lib/usePosts.js","webpack://kotisivu-block-theme/external window [\"wp\",\"apiFetch\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"data\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"domReady\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"element\"]","webpack://kotisivu-block-theme/external window [\"wp\",\"i18n\"]","webpack://kotisivu-block-theme/webpack/bootstrap","webpack://kotisivu-block-theme/webpack/runtime/compat get default export","webpack://kotisivu-block-theme/webpack/runtime/define property getters","webpack://kotisivu-block-theme/webpack/runtime/hasOwnProperty shorthand","webpack://kotisivu-block-theme/webpack/runtime/make namespace object","webpack://kotisivu-block-theme/./src/blocks/dynamic/reference-slider/view.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { useContext, useState, useRef } from \"@wordpress/element\";\n\n/**\n * Internal dependencies\n */\nimport { useElementDimensions } from \"@hooks\";\n\n/**\n * Component dependencies\n */\nimport { Quote } from \"../icons\";\nimport { stripHTML } from \"../scripts/helpers.js\";\n\n/**\n * Context\n */\nimport SliderContext from \"../context/SliderContext\";\n\n/**\n * Slider Item Component\n * @param {object} props - Component props.\n * @returns {JSX.Element} Slider Item Component.\n */\nconst SliderItem = ({ featured_image, logo, excerpt, name, link }) => {\n\treturn (\n\t\t<div className=\"reference-slider__slide\">\n\t\t\t<div className=\"reference-slider__image-container is-stacked\">\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"reference-slider__image reference-slider__image--background\"\n\t\t\t\t\tsrc={featured_image.url}\n\t\t\t\t\talt={featured_image.alt}\n\t\t\t\t\twidth={featured_image.width}\n\t\t\t\t\theight={featured_image.height}\n\t\t\t\t/>\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"reference-slider__image reference-slider__image--logo\"\n\t\t\t\t\tsrc={logo.url}\n\t\t\t\t\talt={logo.alt}\n\t\t\t\t\twidth={logo.width}\n\t\t\t\t\theight={logo.height}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"reference-slider__content-container\">\n\t\t\t\t<Quote aria-hidden className=\"reference-slider__quote\" />\n\t\t\t\t<div className=\"reference-slider__content-wrapper\">\n\t\t\t\t\t<p className=\"reference-slider__excerpt\">{stripHTML(excerpt)}</p>\n\t\t\t\t\t<p className=\"reference-slider__name\">{name}</p>\n\t\t\t\t\t<div class=\"references-slider__button wp-block-button\">\n\t\t\t\t\t\t<a class=\"wp-block-button__link wp-element-button\" href={link}>\n\t\t\t\t\t\t\t{__(\"Explore\", \"kotisivu-block-theme\")}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n/**\n * Slider Images Component\n * @param {object} props - Component props.\n * @returns {JSX.Element} Slider Images Component.\n */\nconst Slider = (props) => {\n\tconst ref = useRef(null);\n\tconst { sliderIndex, setSliderIndex } = useContext(SliderContext);\n\tconst slides = Object.keys(props);\n\tconst elementDimensions = useElementDimensions(ref);\n\tconst [touch, setTouch] = useState({\n\t\tx: null,\n\t\tlocked: false,\n\t\toffset: 0,\n\t\tfactor: 0,\n\t});\n\n\t/**\n\t * Unify touch and mouse events\n\t */\n\tconst unify = (e) => {\n\t\treturn e.changedTouches ? e.changedTouches[0] : e;\n\t};\n\n\t/**\n\t * Lock the slider\n\t * @param {object} e - Event object.\n\t * @returns {void}\n\t */\n\tconst lock = (e) => {\n\t\tsetTouch({\n\t\t\t...touch,\n\t\t\tx: unify(e).clientX,\n\t\t\tlocked: true,\n\t\t});\n\t};\n\n\t/**\n\t * Move the slider\n\t * @param {object} e - Event object.\n\t * @returns {void}\n\t */\n\tconst move = (e) => {\n\t\t/**\n\t\t * If the user hasn't touched the slider, return.\n\t\t */\n\t\tif (!touch.locked) return;\n\n\t\t/**\n\t\t * Get values for calculations.\n\t\t */\n\t\tlet threshold = 0.2;\n\t\tlet dx = unify(e).clientX - touch.x;\n\t\tlet s = Math.sign(dx); // sign. -1 = left, 1 = right\n\t\tlet f = +((s * dx) / elementDimensions.width).toFixed(2);\n\t\tlet n = Object.keys(props).length;\n\n\t\t/**\n\t\t * Get booleans for necessary checks.\n\t\t */\n\t\tlet isSwipingLeft = sliderIndex > 0 || s < 0;\n\t\tlet isSwipingRight = sliderIndex < n - 1 || s > 0;\n\t\tlet isSwipingPastThreshold = f > threshold;\n\n\t\t/**\n\t\t * If the user is swiping left or right, and has swiped past the threshold,\n\t\t * move the slider to the next or previous slide. Update the touch state.\n\t\t */\n\t\tif (isSwipingLeft && isSwipingRight && isSwipingPastThreshold) {\n\t\t\tsetSliderIndex((index) => {\n\t\t\t\tif (s < 0) return index + 1;\n\t\t\t\tif (s > 0) return index - 1;\n\t\t\t});\n\n\t\t\tsetTouch({\n\t\t\t\tx: null,\n\t\t\t\tfactor: 1 - f,\n\t\t\t\toffset: 0,\n\t\t\t\tlocked: false,\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Drag the slider\n\t * @param {object} e - Event object.\n\t * @returns {void}\n\t */\n\tconst drag = (e) => {\n\t\te.preventDefault();\n\n\t\tif (touch.locked) {\n\t\t\tlet tmp = Math.round(unify(e).clientX - touch.x);\n\t\t\tsetTouch({\n\t\t\t\t...touch,\n\t\t\t\toffset: tmp,\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Render the component\n\t */\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclassName={\n\t\t\t\t\"reference-slider__slides\" + (touch.locked ? \" is-smooth\" : \"\")\n\t\t\t}\n\t\t\tstyle={{\n\t\t\t\t\"--slide-count\": slides.length,\n\t\t\t\t\"--slide-index\": sliderIndex,\n\t\t\t\t\"--slide-offset\": touch.offset + \"px\",\n\t\t\t\t\"--slide-transition-factor\": touch.factor,\n\t\t\t}}\n\t\t\tonTouchStart={(e) => lock(e)}\n\t\t\tonTouchEnd={(e) => move(e)}\n\t\t\tonTouchMove={(e) => drag(e)}\n\t\t>\n\t\t\t<div className=\"reference-slider__track\">\n\t\t\t\t{slides.map((key, index) => {\n\t\t\t\t\treturn <SliderItem key={index} {...props[key].metadata.reference} />;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Slider;\n","import { __ } from \"@wordpress/i18n\";\nimport { useContext, useEffect } from \"@wordpress/element\";\n\nimport SliderContext from \"../context/SliderContext\";\n\nimport { ArrowLeft, ArrowRight } from \"../icons\";\n\n/**\n * Slider Controls Component\n * @param {object} props - Component props.\n * @returns {JSX.Element} Slider Controls Component.\n */\nconst SliderControls = ({ length }) => {\n\tconst { sliderIndex, setSliderIndex } = useContext(SliderContext);\n\n\tuseEffect(() => {\n\t\tsetInterval(() => {\n\t\t\tshowNextSlide();\n\t\t}, 2000);\n\t}, []);\n\n\tconst showNextSlide = () => {\n\t\tsetSliderIndex((index) => {\n\t\t\tif (index === length - 1) return 0;\n\t\t\treturn index + 1;\n\t\t});\n\t};\n\n\tconst showPrevSlide = () => {\n\t\tsetSliderIndex((index) => {\n\t\t\tif (index === 0) return length - 1;\n\t\t\treturn index - 1;\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"reference-slider__controls\">\n\t\t\t<button\n\t\t\t\tonClick={showPrevSlide}\n\t\t\t\tclassName=\"reference-slider__btn reference-slider__btn--prev\"\n\t\t\t\taria-label={__(\"View Previous Reference\", \"kotisivu-block-theme\")}\n\t\t\t>\n\t\t\t\t<span className=\"is-visually-hidden\">\n\t\t\t\t\t{__(\"Previous\", \"kotisivu-block-theme\")}\n\t\t\t\t</span>\n\t\t\t\t<ArrowLeft aria-hidden />\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tonClick={showNextSlide}\n\t\t\t\tclassName=\"reference-slider__btn reference-slider__btn--next\"\n\t\t\t\taria-label={__(\"View Next Reference\", \"kotisivu-block-theme\")}\n\t\t\t>\n\t\t\t\t<span className=\"is-visually-hidden\">\n\t\t\t\t\t{__(\"Next\", \"kotisivu-block-theme\")}\n\t\t\t\t</span>\n\t\t\t\t<ArrowRight aria-hidden />\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default SliderControls;\n","import { __ } from \"@wordpress/i18n\";\nimport { useContext } from \"@wordpress/element\";\n\nimport SliderContext from \"../context/SliderContext\";\n\nimport { CircleFilled, CircleOutline } from \"../icons\";\n\n/**\n * Slider Pagination Component\n * @param {array} props - Component props.\n * @returns {JSX.Element} Slider Pagination Component.\n */\nconst SliderPagination = ({ data }) => {\n\tconst { sliderIndex, setSliderIndex } = useContext(SliderContext);\n\n\treturn (\n\t\t<div className=\"reference-slider__pagination\">\n\t\t\t{data.map((_, index) => (\n\t\t\t\t<button\n\t\t\t\t\tkey={index}\n\t\t\t\t\tclassName=\"reference-slider__pagination-btn\"\n\t\t\t\t\taria-label={`View Reference ${index + 1}`}\n\t\t\t\t\tonClick={() => setSliderIndex(index)}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"is-visually-hidden\">{`View Reference ${\n\t\t\t\t\t\tindex + 1\n\t\t\t\t\t}`}</span>\n\t\t\t\t\t{index === sliderIndex ? (\n\t\t\t\t\t\t<CircleFilled aria-hidden />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CircleOutline aria-hidden />\n\t\t\t\t\t)}\n\t\t\t\t</button>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default SliderPagination;\n","import { createContext } from '@wordpress/element';\nconst SliderContext = createContext(null);\n\nexport default SliderContext;","const ArrowLeft = (props) => (\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlSpace=\"preserve\"\n\t\tstyle={{\n\t\t\tfillRule: \"evenodd\",\n\t\t\tclipRule: \"evenodd\",\n\t\t\tstrokeLinejoin: \"round\",\n\t\t\tstrokeMiterlimit: 2,\n\t\t}}\n\t\tviewBox=\"0 0 1000 1000\"\n\t\t{...props}\n\t>\n\t\t<path\n\t\t\td=\"M500 0c275.958 0 500 224.042 500 500 0 275.958-224.042 500-500 500C224.042 1000 0 775.958 0 500 0 224.042 224.042 0 500 0Zm264 500L336 209.5v581L764 500Z\"\n\t\t\tstyle={{\n\t\t\t\tfill: \"var(--wp--preset--color--primary), black\",\n\t\t\t}}\n\t\t\ttransform=\"rotate(180 500 500)\"\n\t\t/>\n\t</svg>\n);\nexport { ArrowLeft };\n","const ArrowRight = (props) => (\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlSpace=\"preserve\"\n\t\tstyle={{\n\t\t\tfillRule: \"evenodd\",\n\t\t\tclipRule: \"evenodd\",\n\t\t\tstrokeLinejoin: \"round\",\n\t\t\tstrokeMiterlimit: 2,\n\t\t}}\n\t\tviewBox=\"0 0 1000 1000\"\n\t\t{...props}\n\t>\n\t\t<path\n\t\t\td=\"M500 0c275.958 0 500 224.042 500 500 0 275.958-224.042 500-500 500C224.042 1000 0 775.958 0 500 0 224.042 224.042 0 500 0Zm264 500L336 209.5v581L764 500Z\"\n\t\t\tstyle={{\n\t\t\t\tfill: \"var(--wp--preset--color--primary), black\",\n\t\t\t}}\n\t\t/>\n\t</svg>\n);\nexport { ArrowRight };\n","const CircleFilled = (props) => (\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlSpace=\"preserve\"\n\t\tstyle={{\n\t\t\tfillRule: \"evenodd\",\n\t\t\tclipRule: \"evenodd\",\n\t\t\tstrokeLinejoin: \"round\",\n\t\t\tstrokeMiterlimit: 2,\n\t\t}}\n\t\tviewBox=\"0 0 500 500\"\n\t\t{...props}\n\t>\n\t\t<circle\n            fill=\"var(--wp--preset--color--black)\"\n\t\t\tcx={280}\n\t\t\tcy={276}\n\t\t\tr={220}\n\t\t\ttransform=\"translate(-68.182 -63.636) scale(1.13636)\"\n\t\t/>\n\t</svg>\n);\nexport { CircleFilled };\n","const CircleOutline = (props) => (\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlSpace=\"preserve\"\n\t\tstyle={{\n\t\t\tfillRule: \"evenodd\",\n\t\t\tclipRule: \"evenodd\",\n\t\t\tstrokeLinejoin: \"round\",\n\t\t\tstrokeMiterlimit: 2,\n\t\t}}\n\t\tviewBox=\"0 0 500 500\"\n\t\t{...props}\n\t>\n\t\t<path\n\t\t\td=\"M249.999 0c137.978 0 250 112.021 250 249.999s-112.022 250-250 250-250-112.022-250-250 112.022-250 250-250Zm0 30c-121.421 0-220 98.578-220 219.999 0 121.421 98.579 220 220 220s220-98.579 220-220-98.579-220-220-220Z\"\n\t\t\tfill=\"var(--wp--preset--color--black)\"\n\t\t/>\n\t</svg>\n);\nexport { CircleOutline };\n","const Quote = (props) => (\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlSpace=\"preserve\"\n\t\tstyle={{\n\t\t\tfillRule: \"evenodd\",\n\t\t\tclipRule: \"evenodd\",\n\t\t\tstrokeLinejoin: \"round\",\n\t\t\tstrokeMiterlimit: 2,\n\t\t}}\n        width=\"100%\"\n        height=\"100%\"\n\t\tviewBox=\"0 0 615 576\"\n\t\t{...props}\n\t>\n\t\t<path\n\t\t\td=\"M0 0h256l-44 576H42L0 0ZM359 0h256l-44 576H401L359 0Z\"\n\t\t\tfill=\"var(--wp--preset--color--secondary)\"\n\t\t/>\n\t</svg>\n);\nexport { Quote };\n","import apiFetch from \"@wordpress/api-fetch\";\n\n/**\n * Get media files from the API\n * @param {Object} params\n * @returns {Array} results\n */\nasync function getReferences(params = null) {\n    /**\n     * Create the URL\n     */\n    let apiRequest = new URL(window.location.origin + \"/wp/v2/references\");\n\n    /**\n     * Add the params to the URL\n     */\n    for (const [key, value] of Object.entries(params)) {\n        apiRequest.searchParams.append(key, value);\n    }\n\n    const results = await apiFetch({ path: apiRequest.pathname + apiRequest.search }).then((post) => {\n        return post;\n    });\n\n    return results;\n}\n\nfunction stripHTML(html) {\n    var tmp = document.createElement(\"DIV\");\n    tmp.innerHTML = html;\n    return tmp.textContent || tmp.innerText || \"\";\n}\n\nexport { getReferences, stripHTML }","import { useSelect } from '@wordpress/data';\n\n/**\n * Hook to get custom posts\n * @param perPage Number of posts to return per page\n * @param postType Post type to query\n * @returns {array}\n * \n * Original source:\n * @link https://pluginmachine.com/creating-reusable-react-hooks-for-the-wordpress-block-editor-or-whatever/\n */\nconst useCustomPosts = (perPage = 6, postType) => {\n    return useSelect((select) => {\n        const data = select('core').getEntityRecords('postType', postType, {\n            per_page: perPage,\n        });\n        return data || [];\n    });\n};\n\nexport { useCustomPosts };\n","import { useSelect } from '@wordpress/data';\n\n/**\n * Hook to get attributes of the parent block\n *\n * @param  {string} clientId\n * @returns {Object} attributes of the parent block\n * \n * Original source:\n * @link https://pluginmachine.com/creating-reusable-react-hooks-for-the-wordpress-block-editor-or-whatever/\n */\nconst useParentBlockAttributes = (clientId) => {\n    return useSelect((select) => {\n        const {\n            getBlockHierarchyRootClientId,\n            getBlockAttributes\n        } = select('core/block-editor');\n\n        const parentClientId = getBlockHierarchyRootClientId(clientId);\n\n        return getBlockAttributes(parentClientId);\n    }, [clientId]);\n};\n\nexport { useParentBlockAttributes };\n","import { useSelect } from '@wordpress/data';\n\n/**\n * Hook to get posts\n * @param perPage Number of posts to return per page\n * @returns {array}\n * \n * Original source:\n * @link https://pluginmachine.com/creating-reusable-react-hooks-for-the-wordpress-block-editor-or-whatever/\n */\nconst usePosts = (perPage = 6) => {\n    return useSelect((select) => {\n        const data = select('core').getEntityRecords('postType', 'post', {\n            per_page: perPage,\n        });\n        return data || [];\n    });\n};\n\nexport { usePosts };\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { createRoot } from '@wordpress/element';\nimport { __ } from \"@wordpress/i18n\";\nimport domReady from '@wordpress/dom-ready';\nimport { useEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { getReferences } from './scripts/helpers.js';\n\n/**\n * Contexts\n */\nimport SliderContext from './context/SliderContext';\n\n/**\n * Components\n */\nimport SliderPagination from './components/SliderPagination.jsx';\nimport SliderControls from './components/SliderControls.jsx';\nimport Slider from './components/Slider.jsx';\n\nconst ReferenceSlider = () => {\n    const [sliderIndex, setSliderIndex] = useState(0);\n    const [data, setData] = useState([]);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            const data = await getReferences({ per_page: 10 });\n            setData(data);\n        }\n\n        fetchData();\n    }, []);\n\n    if (data.length === 0) return null;\n\n    return (\n        <SliderContext.Provider value={{ sliderIndex, setSliderIndex }}>\n            <a href=\"#skip-slider-controls\" className=\"is-visually-hidden\">{__('Skip Slider Controls', 'kotisivu-block-theme')}</a>\n            <Slider {...data} />\n            <SliderControls length={data.length} />\n            <SliderPagination data={data} />\n            <div id=\"skip-slider-controls\" />\n        </SliderContext.Provider>\n    )\n}\n\n/**\n * Render the component\n */\ndomReady(async function () {\n    createRoot(document.getElementById('reference-slider')).render(<ReferenceSlider />);\n});\n"],"names":["SliderItem","featured_image","logo","excerpt","name","link","createElement","className","src","url","alt","width","height","Quote","stripHTML","class","href","__","props","ref","useRef","sliderIndex","setSliderIndex","useContext","SliderContext","slides","Object","keys","elementDimensions","useElementDimensions","touch","setTouch","useState","x","locked","offset","factor","unify","e","changedTouches","style","length","onTouchStart","clientX","lock","onTouchEnd","dx","s","Math","sign","f","toFixed","n","index","move","onTouchMove","preventDefault","tmp","round","drag","map","key","metadata","reference","SliderControls","useEffect","setInterval","showNextSlide","onClick","showPrevSlide","ArrowLeft","ArrowRight","SliderPagination","data","_","CircleFilled","CircleOutline","createContext","xmlns","xmlSpace","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","viewBox","d","fill","transform","cx","cy","r","async","getReferences","params","apiRequest","URL","window","location","origin","value","entries","searchParams","append","apiFetch","path","pathname","search","then","post","html","document","innerHTML","textContent","innerText","useCustomPosts","perPage","postType","useSelect","select","getEntityRecords","per_page","useParentBlockAttributes","clientId","getBlockHierarchyRootClientId","getBlockAttributes","usePosts","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","a","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","ReferenceSlider","setData","fetchData","Slider","id","domReady","createRoot","getElementById","render"],"sourceRoot":""}