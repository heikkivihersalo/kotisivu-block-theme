!function(){"use strict";const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n,e="kotisivu-block-theme",t=PHP_VARIABLES.ajax_url,o=PHP_VARIABLES.ajax_nonce,s=document.getElementsByTagName("header")[0],n=document.getElementsByClassName("menu__toggle")[0],c=document.querySelectorAll(".wp-block-pages-list__item"),l=(document.getElementById("blog-post-container"),document.getElementById("blog-post-list")),r=document.querySelectorAll(".blog-grid__item"),a=document.getElementById("blog-load-more");(async()=>{try{void 0!==s&&null!=s&&document.addEventListener("scroll",(()=>{window.scrollY>100?s.classList.add("sticky-opacity"):s.classList.remove("sticky-opacity"),window.scrollY>500?s.classList.add("sticky-header"):s.classList.remove("sticky-header")})),void 0!==s&&null!=s&&n.addEventListener("click",(()=>{const e=n.getAttribute("data-state");e&&"closed"!==e?(n.setAttribute("data-state","closed"),n.setAttribute("aria-expanded","false")):(n.setAttribute("data-state","opened"),n.setAttribute("aria-expanded","true")),s.classList.toggle("active")})),void 0!==s&&null!=s&&c.forEach((e=>{e.addEventListener("click",(()=>{s.classList.remove("active"),n.classList.remove("active")}))}))}catch(e){console.error(e)}try{void 0!==r&&null!=r&&r.forEach((e=>{e.addEventListener("click",(()=>{window.location.assign(e.dataset.url)}))})),function(){if(void 0===l||null==l)return;let s=2,n=(document.querySelector("#blog-post-container > .wp-block-button"),l.childElementCount);a.addEventListener("click",(()=>{fetch(t,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams({action:"load_more_posts",security:o,paged:s}).toString()}).then((e=>e.json())).then((t=>{let o=t.posts,c=t.post_count;o.forEach((e=>{l.append((e=>{let t=document.createElement("div");return t.innerHTML=e,t.firstChild.nextSibling})(e.content)),n++})),s++,0==t.length?console.info(__("No more posts to fetch:",e)):console.info(__("Posts fetched succesfully:",e),o),n==c&&(a.disabled=!0,a.setAttribute("aria-disabled","true"))})).catch((t=>{l.append((e=>{let t=document.createElement("div");return t.className="blog-post-list__error-message",t.innerHTML=`<p>${e}</p>`,t})(__("Error while loading more posts",e))),console.error("Error:",t)}))}))}()}catch(e){console.error(e)}})()}();