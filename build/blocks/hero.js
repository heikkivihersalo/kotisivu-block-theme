(()=>{"use strict";var e,t={657:(e,t,a)=>{const i=window.wp.i18n,r=window.wp.blocks,l=window.wp.element,n=window.wp.data,s=window.wp.blockEditor,o=e=>{const{attributes:{className:t,mediaUrl:a,mediaAlt:i,mediaWidth:r,mediaHeight:n,lazyLoad:s}}=e;return(0,l.createElement)("img",{loading:s?"lazy":"eager",className:t,src:a,alt:i,width:r?`${r}px`:"",height:n?`${n}px`:""})},c=e=>{const{attributes:{className:t,mediaSrcSet:a,mediaSrcSizes:i,mediaUrl:r,mediaAlt:n,mediaWidth:s,mediaHeight:o,lazyLoad:c}}=e;return(0,l.createElement)("img",{loading:c?"lazy":"eager",className:t,srcSet:a,sizes:i,src:r,alt:n,width:s?`${s}px`:"",height:o?`${o}px`:""})},m=e=>{const{attributes:{mediaMime:t},srcset:a,img:i}=e;return a?(0,l.createElement)(c,e):i||"image/svg+xml"==t?(0,l.createElement)(o,e):(0,l.createElement)(c,e)},d=window.wp.components,u=a.p+"images/placeholder.d7054663.png",h=e=>t=>{e.setAttributes({mediaUrl:"",mediaId:0,mediaAlt:"",mediaMime:"",mediaWidth:"",mediaHeight:"",mediaSrcset:"",sizes:[]})},g=e=>{const t=e.slice(0).reverse();return t.map(((e,a)=>a==t.length-1?`${e.width}px`:`(max-width: ${e.width}px) ${e.width}px`)).join(", ")},p=(e,t)=>{if("image/svg+xml"==e.mime)return void t.setAttributes({mediaUrl:e.url,mediaId:e.id,mediaAlt:e.alt,mediaMime:e.mime});const a=(e=>{const t=Object.entries(e).map(((e,t)=>{let[a,i]=e;return{id:t,name:a,url:i.url,width:i.width,height:i.height}}));return t[0].width>=t[0].height?t.sort(((e,t)=>t.width-e.width)):t.sort(((e,t)=>t.height-e.height)),t})(e.sizes);var i;t.setAttributes({mediaUrl:e.url,mediaId:e.id,mediaAlt:e.alt,mediaMime:e.mime,mediaWidth:e.width,mediaHeight:e.height,mediaSrcSet:(i=a,i.slice(0).reverse().map(((e,t)=>{let a=e.width;return`${e.url} ${a}w`})).join(", ")),mediaSrcSizes:g(a)})},k=e=>{const{attributes:{lazyLoad:t},setAttributes:a}=e;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(d.PanelRow,{className:"image-block-buttons__lazy-load"},(0,l.createElement)(d.ToggleControl,{label:(0,i.__)("Lazy Load","kotisivu-theme-blocks"),checked:t,onChange:()=>a({lazyLoad:!t})})))},b=e=>{const{attributes:{mediaId:t}}=e;return(0,l.createElement)("div",{className:"image-block-buttons"},(0,l.createElement)("div",{className:"image-block-buttons__update"},(0,l.createElement)(s.MediaUploadCheck,null,(0,l.createElement)(s.MediaUpload,{onSelect:t=>p(t,e),allowedTypes:"image",value:t,render:e=>{let{open:t}=e;return(0,l.createElement)(d.Button,{onClick:t,isDefault:!0,isLarge:!0},(0,i.__)("Change image","kotisivu-block-theme"))}})),(0,l.createElement)(s.MediaUploadCheck,null,(0,l.createElement)(d.Button,{onClick:h(e),isLink:!0,isDestructive:!0},(0,i.__)("Remove image","kotisivu-block-theme")))),(0,l.createElement)(k,e))},v=e=>e.replace(/\s+/g," ").trim(),E=(e,t,a,i,r,l)=>n=>{let s=l.split(" ");e.setAttributes({[t]:!a}),a?s=s.filter((e=>e!=i)):s.push(i),e.setAttributes({[r]:v(s.join(" "))})},w=e=>{const{attributes:{isFullWidth:t,className:a}}=e;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(d.PanelRow,null,(0,l.createElement)(d.ToggleControl,{label:(0,i.__)("Full Width","kotisivu-theme-blocks"),checked:t,onChange:E(e,"isFullWidth",t,"is-full-width","className",a)})))},f=e=>{const{attributes:{mediaId:t}}=e;return(0,l.createElement)("div",{className:"editor-post-featured-image"},(0,l.createElement)(s.MediaUploadCheck,null,(0,l.createElement)(s.MediaUpload,{onSelect:t=>p(t,e),allowedTypes:"image",value:t,render:t=>{let{open:a}=t;return((e,t)=>{const{attributes:{className:a,mediaUrl:r,mediaAlt:n,mediaMime:s}}=e;return r?"image/svg+xml"==s?(0,l.createElement)("img",{className:a,src:r,alt:n}):(0,l.createElement)(m,e):(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"button-container"},(0,l.createElement)(d.Button,{onClick:t,className:"button button-large"},(0,i.__)("Pick a image","kotisivu-block-theme")),(0,l.createElement)("img",{class:"image-placeholder",src:u})))})(e,a)}})))},y=e=>{const{attributes:{mediaUrl:t}}=e;return(0,l.createElement)(d.PanelBody,{title:(0,i.__)("Select background image","kotisivu-block-theme"),initialOpen:!0},(0,l.createElement)(f,e),t&&(0,l.createElement)(b,e),(0,l.createElement)(w,e),(0,l.createElement)(k,e))};d.ColorPalette;const _=e=>{const{attributes:{modifiers:t,hasBackgroundImage:a}}=e;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(d.PanelRow,null,(0,l.createElement)(d.ToggleControl,{label:(0,i.__)("Use Background Image","kotisivu-theme-blocks"),checked:a,onChange:E(e,"hasBackgroundImage",a,"has-image","modifiers",t)})))},B=e=>{const{attributes:{hasBackgroundImage:t}}=e;return(0,l.createElement)(s.InspectorControls,null,(0,l.createElement)(d.PanelBody,{title:(0,i.__)("Hero Settings","kotisivu-block-theme"),initialOpen:!0},(0,l.createElement)(_,e)),t&&(0,l.createElement)(y,e))},N=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":2,"name":"ksd/hero","title":"Hero","category":"theme","icon":"cover-image","description":"Hero block","keywords":["section, container, hero"],"textdomain":"kotisivu-block-theme","supports":{"className":false},"editorScript":"file:../../../../build/blocks/hero.js","editorStyle":"file:../../../../build/blocks/hero.css","style":"file:../../../../build/blocks/style-hero.css","attributes":{"heroClass":{"type":"string","default":"hero"},"modifiers":{"type":"string","default":""},"templateLock":{"type":["string","boolean"],"enum":["all","insert",false]},"hasBackgroundImage":{"type":"boolean"},"mediaId":{"type":"number","default":0},"mediaUrl":{"type":"string","default":""},"mediaAlt":{"type":"string","default":""},"mediaWidth":{"type":"number","default":""},"mediaHeight":{"type":"number","default":""},"mediaMime":{"type":"string","default":""},"mediaSrcSet":{"type":"string","default":""},"mediaSrcSizes":{"type":"string","default":""},"lazyLoad":{"type":"boolean","default":true},"align":{"type":"string","default":"full"}}}'),{apiVersion:S,name:C,title:z,category:x,icon:I,description:$,keywords:A,textdomain:O,supports:U}=N,P={apiVersion:S,title:(0,i.__)(z,"kotisivu-block-theme"),description:(0,i.__)($,"kotisivu-block-theme"),category:x,icon:I,supports:U,keywords:A,textdomain:O,edit:e=>{const{attributes:{modifiers:t,hasBackgroundImage:a,heroClass:i},clientId:r}=e,o=[["ksd/image-optimized"]["core/heading"]],c=(0,s.useBlockProps)({className:v(`${i} ${t}`)}),{hasChildBlocks:d}=(0,n.useSelect)((e=>{const{getBlockOrder:t}=e(s.store);return{hasChildBlocks:t(r).length>0}}),[r]),u=(0,s.useInnerBlocksProps)({...c},{template:[["ksd/image-optimized",{className:"hero__logo"}],["core/heading",{level:1,className:"hero__heading"}],["ksd/image-optimized",{className:"hero__decorative-image"}],["ksd/image-optimized",{className:"hero__decorative-image--arch"}]],templateLock:"all",allowedBlocks:o,renderAppender:d?void 0:s.InnerBlocks.ButtonBlockAppender});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(B,e),(0,l.createElement)("section",c,(0,l.createElement)("div",{className:"hero__container"},u.children),a&&(0,l.createElement)(m,e)))},save:e=>{const{attributes:{hasBackgroundImage:t,modifiers:a,heroClass:i}}=e,r=s.useBlockProps.save({className:v(`${i} ${a}`)});return(0,l.createElement)("section",r,(0,l.createElement)("div",{className:"hero__container"},(0,l.createElement)(s.InnerBlocks.Content,null)),t&&(0,l.createElement)(m,e))},getEditWrapperProps:()=>({"data-align":"full"})};(0,r.registerBlockType)(C,P)}},a={};function i(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,i),l.exports}i.m=t,e=[],i.O=(t,a,r,l)=>{if(!a){var n=1/0;for(m=0;m<e.length;m++){for(var[a,r,l]=e[m],s=!0,o=0;o<a.length;o++)(!1&l||n>=l)&&Object.keys(i.O).every((e=>i.O[e](a[o])))?a.splice(o--,1):(s=!1,l<n&&(n=l));if(s){e.splice(m--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[a,r,l]},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={279:0,171:0};i.O.j=t=>0===e[t];var t=(t,a)=>{var r,l,[n,s,o]=a,c=0;if(n.some((t=>0!==e[t]))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(o)var m=o(i)}for(t&&t(a);c<n.length;c++)l=n[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(m)},a=globalThis.webpackChunkkotisivu_block_theme=globalThis.webpackChunkkotisivu_block_theme||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=i.O(void 0,[171],(()=>i(657)));r=i.O(r)})();