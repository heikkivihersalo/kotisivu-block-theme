(()=>{"use strict";var e,t={107:()=>{const e=window.wp.i18n,t=window.wp.blocks;function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},o.apply(this,arguments)}const i=window.wp.element,l=window.wp.blockEditor,s=window.wp.data;function c(e){1==e.attributes.isSelected?document.querySelector('[data-block="'+e.clientId+'"]').dataset.active=!0:document.querySelector('[data-block="'+e.clientId+'"]').dataset.active=!1}function a(e,t){let o=e.attributes?.className;if(null==o||!o.includes(`is-${t}`)){let i=null==o?`is-${t}`:o+" "+`is-${t}`;(0,s.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{className:i})}}function r(e,t){"desktop"==t&&((0,s.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{isSelected:!0}),(0,s.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{isMobile:!1})),"mobile"==t&&((0,s.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{isSelected:!1}),(0,s.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{isMobile:!0}))}const n=(0,s.withDispatch)(((e,t,o)=>({handleTabClick(i,l){const{clientId:s}=t,{getBlocks:n}=o.select("core/block-editor"),d=n(s);i!=l&&d.forEach(((t,o)=>{let i=t.attributes.isSelected;e("core/block-editor").updateBlockAttributes(t.clientId,{isSelected:!i}),a(t,0==o?"desktop":"mobile"),r(t,0==o?"desktop":"mobile"),c(t)}))},async init(){const{clientId:e}=t,{getBlocks:i}=o.select("core/block-editor");i(e).forEach(((e,t)=>{0==t&&(r(e,"desktop"),a(e,"desktop")),1==t&&(r(e,"mobile"),a(e,"mobile")),c(e)}))}})))((function(t){let{attributes:s,handleTabClick:c,init:a}=t;const{allowedBlocks:r,templateLock:n,template:d}=s,[p,b]=(0,i.useState)("desktop"),m=(0,l.useBlockProps)();return(0,i.useEffect)((()=>{a()}),[]),(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",o({},m,{"data-device":p}),(0,i.createElement)("div",{className:"image-optimized-mobile__selector"},(0,i.createElement)("button",{className:"selector-tab selector-tab--desktop "+("desktop"==p?"active":""),onClick:e=>{c("desktop",p),b("desktop")}},(0,e.__)("Desktop","kotisivu-block-theme")),(0,i.createElement)("button",{className:"selector-tab selector-tab--mobile "+("mobile"==p?"active":""),onClick:e=>{c("mobile",p),b("mobile")}},(0,e.__)("Mobile","kotisivu-block-theme"))),(0,i.createElement)(l.InnerBlocks,{template:d,templateLock:n,allowedBlocks:r})))})),d=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":2,"name":"ksd/image-optimized-mobile","title":"Desktop-Mobile Selector","category":"media","icon":"format-image","description":"","keywords":[""],"textdomain":"kotisivu-block-theme","supports":{"className":false},"editorScript":"file:../../../../build/image-optimized-mobile.js","editorStyle":"file:../../../../build/image-optimized-mobile.css","style":"file:../../../../build/style-image-optimized-mobile.css","attributes":{"template":{"type":"array","default":[["ksd/image-optimized"],["ksd/image-optimized"]]},"allowedBlocks":{"type":"array","default":["ksd/image-optimized"]},"templateLock":{"type":["string","boolean"],"enum":["all","insert",false],"default":false}}}'),{apiVersion:p,name:b,title:m,category:k,icon:u,description:f,keywords:h,textdomain:v,supports:g}=d,w={apiVersion:p,title:(0,e.__)(m,"kotisivu-block-theme"),description:(0,e.__)(f,"kotisivu-block-theme"),category:k,icon:u,supports:g,keywords:h,textdomain:v,edit:n,save:e=>(0,i.createElement)(l.InnerBlocks.Content,null),getEditWrapperProps:()=>({"data-align":"full"})};(0,t.registerBlockType)(b,w)}},o={};function i(e){var l=o[e];if(void 0!==l)return l.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,i),s.exports}i.m=t,e=[],i.O=(t,o,l,s)=>{if(!o){var c=1/0;for(d=0;d<e.length;d++){for(var[o,l,s]=e[d],a=!0,r=0;r<o.length;r++)(!1&s||c>=s)&&Object.keys(i.O).every((e=>i.O[e](o[r])))?o.splice(r--,1):(a=!1,s<c&&(c=s));if(a){e.splice(d--,1);var n=l();void 0!==n&&(t=n)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[o,l,s]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={5201:0,7971:0};i.O.j=t=>0===e[t];var t=(t,o)=>{var l,s,[c,a,r]=o,n=0;if(c.some((t=>0!==e[t]))){for(l in a)i.o(a,l)&&(i.m[l]=a[l]);if(r)var d=r(i)}for(t&&t(o);n<c.length;n++)s=c[n],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(d)},o=globalThis.webpackChunkkotisivu_block_theme=globalThis.webpackChunkkotisivu_block_theme||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=i.O(void 0,[7971],(()=>i(107)));l=i.O(l)})();