(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.domReady;var o=e.n(t);const n=window.wp.i18n;o()((function(){let e={container:document.getElementById("blog-post-container"),list:document.getElementById("blog-post-list"),cards:document.querySelectorAll(".blog-grid__item"),loadMore:document.getElementById("blog-load-more")},t={postsLoaded:e.list.childElementCount},o={url:PHP_VARIABLES.ajax_url,data:{action:"load_more_posts",security:PHP_VARIABLES.ajax_nonce,paged:2},headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"}};e.loadMore.addEventListener("click",(async()=>{try{const s=await(async({url:e,data:t,headers:o})=>{const n=await fetch(e,{method:"POST",headers:o,body:new URLSearchParams(t).toString()}),s=await n.json();return{posts:s.posts,postCount:s.post_count}})(o);s.posts.forEach((o=>{e.list.append((e=>{let t=document.createElement("div");return t.innerHTML=e,t.firstChild.nextSibling})(o.content)),t.postsLoaded++})),o.data.paged++,0==s.posts.length?console.info((0,n.__)("No more posts to fetch:","kotisivu-block-theme")):console.info((0,n.__)("Posts fetched succesfully:","kotisivu-block-theme"),s.posts),t.postsLoaded==s.postCount&&(e.loadMore.disabled=!0,e.loadMore.setAttribute("aria-disabled","true"))}catch(t){e.list.append((e=>{let t=document.createElement("div");return t.className="blog-post-list__error-message",t.innerHTML=`<p>${e}</p>`,t})((0,n.__)("Error while loading more posts","kotisivu-block-theme"))),console.error("Error:",t)}}))})),o()((function(){elements.cards.forEach((e=>{e.addEventListener("click",(()=>{window.location.assign(e.dataset.url)}))}))}))})();